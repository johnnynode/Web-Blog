### HTTPS

- HTTPS = HTTP + Security
- HTTP是不安全的，因为它是明文传输的，在互联网的每一层都可能会被获取和篡改
    * 如果使用HTTP，不能传输重要的数据
- HTTPS的安全性
    * 公钥：互联网上人人都可以拿到的一串加密字符串，用于加密传输信息
    * 私钥：只存在于服务端用于解密的一串加密字符串
    * 客户端通过公钥加密传输到服务器上，服务端只有通过私钥才能把加密后的内容解密

### HTTPS握手的过程

<div align="center">
    <img width="600" src="./screenshot/3.jpg">
    <br />
    <div style="text-align:center">备注：图片托管于github，请确保网络的可访问性</div>
    <br />
</div>

- 客户端发起一个ClientHello
    * 先生成一个随机字符串
    * 再带上客户端支持的加密套件Cipher Suite(里面有很多不同的加密方法)，以供服务端选择
    * 将两者传输到服务端
- 服务端也发送一个Serve Hello
    * 在拿到随机字符串后先存着
    * 自己也生成一个随机字符串，并且自己选择一个合适的Cipher Suite加密套件
    * 之后把这个随机字符串，服务端证书(公钥)等内容传输给客户端
- 客户端拿到了服务端随机数和公钥
    * 并用它们生成了一个加密的预主密钥(新的随机字符串)
    * 到这个阶段，随机字符串的数量已经是3个了
    * 客户端将这个加密后的预主密钥发送给服务端
- 服务端用私钥进行解密得到预主密钥，拿到了这个随机字符串
- 客户端和服务端同时对这三个随机字符串进行一个算法的操作，生成一个主密钥
    * 这个过程中涉及到一个加密套件进行算法的操作
- 中间任何人都无法获取和破解这个主密钥，后期传输的数据全是由这个主密钥来加密和解密
- 所以HTTPS传输是一个安全的传输协议，可以自己使用Wireshark等抓包软件看这个过程